# 基金趋势可视化与持仓管理工具

一款交互式的 Web 应用，旨在帮助用户跟踪、可视化、比较多支投资基金的历史表现，并管理个人持仓信息。

## 核心功能

- **[数据增强] 大盘多维历史快照**:
    - **同步存储**: 每日收盘后（15:00），系统自动抓取并保存全市场（沪深两市）的分钟级数据曲线。
    - **连续时间轴折线图**: 在隐私遮罩上方并排展示**上证指数走势**（左）与**全市场累计成交额**（右），支持查看近 5 个交易日的连续变动。
    - **水位分布指示器**: 在成交额图表右侧新增垂直进度条，以不同深浅的圆点实时标注今日与近 5 日同一时刻的累计成交额分布，量化当前市场热度。
    - **视觉优化**: 每一天交界处均有**浅灰色实线**分割；采用 Slate-950 加深色调，今日数据线条加粗，通过移除内外边距实现“顶天立地”的满幅效果。
    - **时间校准**: 自动补齐 09:15 - 09:30 分时数据，成交额强制归零，确保对比逻辑严谨。
- **[UI 优化] 提示框视觉统一**:
    - 移除了基金走势图中 Tooltip 的所有灰色分割线，保持视觉一致性。
    - 自动移除日期中的时分显示，仅展示 YYYY-MM-DD。
- **[新交互] 折线图局部锚点对比**:
    - **极简操作**: 直接在任意基金的折线图上点击某个点，即可将其设为该基金的“基准日”。
    - **动态对比**: 设置基准后，Hover 图表其他点时，Tooltip 会实时显示“较基准涨跌”百分比。
- **[核心] 智能推荐评分系统 (Smart Opportunity Score)**:
    - 系统采用一套独特的**多因子加权算法**，为您提供量化的买卖建议。
    - **评分公式**: $$ Score = (50\% \times 估值分) + (30\% \times 趋势分) + (20\% \times 今日分) $$
- **[新功能] Gemini 智能投顾**:
    - 集成 Google Gemini 2.5 Flash 模型，深度结合 **4.5% 金字塔加仓策略**，提供基于全数据上下文的操作建议。

## 如何使用

1.  **添加基金**: 在页面底部的“基金代码”输入框中输入一个有效的6位基金代码。
2.  **录入持仓**: 双击基金行打开详情，输入份额与成本。
3.  **基准对比**: 在图表上点击一点作为基准，移动鼠标查看相对涨幅。
4.  **隐私保护**: 鼠标离开页面或长时间不操作将自动进入隐私遮罩模式，悬停即可查看连续的大盘历史与实时曲线。